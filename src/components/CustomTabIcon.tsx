    import React from 'react';
    import { Animated, View, StyleSheet } from 'react-native';
    import Svg, { Path } from 'react-native-svg';

    const CustomIcons = {
    home: {
        active: "M 21 19.3939 C 21 19.6511 20.8946 19.8978 20.7071 20.0796 C 20.5196 20.2614 20.2652 20.3636 20 20.3636 L 4 20.3636 C 3.73478 20.3636 3.48043 20.2614 3.29289 20.0796 C 3.10536 19.8978 3 19.6511 3 19.3939 L 3 9.20243 C 2.99989 9.05466 3.03462 8.90882 3.10152 8.77605 C 3.16841 8.64328 3.26572 8.5271 3.386 8.43637 L 11.386 2.40291 C 11.5615 2.2705 11.7776 2.19861 12 2.19861 C 12.2224 2.19861 12.4385 2.2705 12.614 2.40291 L 20.614 8.43637 C 20.7343 8.5271 20.8316 8.64328 20.8985 8.77605 C 20.9654 8.90882 21.0001 9.05466 21 9.20243 L 21 19.3939 L 21 19.3939 Z M 19 18.4242 L 19 9.67564 L 12 4.39661 L 5 9.67564 L 5 18.4242 L 19 18.4242 Z",
        inactive: "M 21 19.3939 C 21 19.6511 20.8946 19.8978 20.7071 20.0796 C 20.5196 20.2614 20.2652 20.3636 20 20.3636 L 4 20.3636 C 3.73478 20.3636 3.48043 20.2614 3.29289 20.0796 C 3.10536 19.8978 3 19.6511 3 19.3939 L 3 9.20243 C 2.99989 9.05466 3.03462 8.90882 3.10152 8.77605 C 3.16841 8.64328 3.26572 8.5271 3.386 8.43637 L 11.386 2.40291 C 11.5615 2.2705 11.7776 2.19861 12 2.19861 C 12.2224 2.19861 12.4385 2.2705 12.614 2.40291 L 20.614 8.43637 C 20.7343 8.5271 20.8316 8.64328 20.8985 8.77605 C 20.9654 8.90882 21.0001 9.05466 21 9.20243 L 21 19.3939 L 21 19.3939 Z M 19 18.4242 L 19 9.67564 L 12 4.39661 L 5 9.67564 L 5 18.4242 L 19 18.4242 Z"
    },
    garage: {
        active: "M15.6264 1.24146C16.4159 1.24146 17.1177 1.7544 17.3668 2.51497L19.5336 9.11414L19.5472 9.16095C19.5512 9.17737 19.5545 9.19405 19.5572 9.21096L19.5336 9.11414C19.551 9.16711 19.561 9.22078 19.5641 9.27398C19.5646 9.28512 19.565 9.29772 19.565 9.31042L19.565 18.0001C19.565 18.3429 19.2913 18.6208 18.9536 18.6208L14.0624 18.6208C13.7247 18.6208 13.451 18.3429 13.451 18.0001L13.4498 16.138L6.11409 16.138L6.11415 18.0001C6.11415 18.3429 5.84042 18.6208 5.50275 18.6208L0.611535 18.6208C0.273856 18.6208 0.00012207 18.3429 0.00012207 18.0001L0.00012207 9.31042L0.00102444 9.27398C0.00223146 9.25336 0.00446792 9.23267 0.0077672 9.21198L0.00012207 9.31042C0.00012207 9.25889 0.00630796 9.20882 0.0179671 9.16095C0.0216597 9.14623 0.0262391 9.13016 0.0314972 9.11414L2.19817 2.5154C2.44754 1.75407 3.14835 1.24146 3.93878 1.24146L15.6264 1.24146ZM4.89126 16.138L1.22278 16.138L1.22293 17.3794L4.89134 17.3794L4.89126 16.138ZM18.3411 16.138L14.6726 16.138L14.6738 17.3794L18.3422 17.3794L18.3411 16.138ZM18.3422 9.93111L1.22293 9.93111L1.22293 14.8966L18.3422 14.8966L18.3422 9.93111ZM3.66854 11.1725C4.34387 11.1725 4.89134 11.7283 4.89134 12.4139C4.89134 13.0995 4.34387 13.6552 3.66854 13.6552C2.9932 13.6552 2.44573 13.0995 2.44573 12.4139C2.44573 11.7283 2.9932 11.1725 3.66854 11.1725ZM15.8966 11.1725C16.5719 11.1725 17.1194 11.7283 17.1194 12.4139C17.1194 13.0995 16.5719 13.6552 15.8966 13.6552C15.2213 13.6552 14.6738 13.0995 14.6738 12.4139C14.6738 11.7283 15.2213 11.1725 15.8966 11.1725ZM15.6264 2.48283L3.93878 2.48283C3.67475 2.48283 3.44161 2.65336 3.35836 2.90753L1.45879 8.68973L18.1051 8.68973L16.2066 2.9071C16.1237 2.65387 15.8897 2.48283 15.6264 2.48283Z",
        inactive: "M15.6264 1.24146C16.4159 1.24146 17.1177 1.7544 17.3668 2.51497L19.5336 9.11414L19.5472 9.16095C19.5512 9.17737 19.5545 9.19405 19.5572 9.21096L19.5336 9.11414C19.551 9.16711 19.561 9.22078 19.5641 9.27398C19.5646 9.28512 19.565 9.29772 19.565 9.31042L19.565 18.0001C19.565 18.3429 19.2913 18.6208 18.9536 18.6208L14.0624 18.6208C13.7247 18.6208 13.451 18.3429 13.451 18.0001L13.4498 16.138L6.11409 16.138L6.11415 18.0001C6.11415 18.3429 5.84042 18.6208 5.50275 18.6208L0.611535 18.6208C0.273856 18.6208 0.00012207 18.3429 0.00012207 18.0001L0.00012207 9.31042L0.00102444 9.27398C0.00223146 9.25336 0.00446792 9.23267 0.0077672 9.21198L0.00012207 9.31042C0.00012207 9.25889 0.00630796 9.20882 0.0179671 9.16095C0.0216597 9.14623 0.0262391 9.13016 0.0314972 9.11414L2.19817 2.5154C2.44754 1.75407 3.14835 1.24146 3.93878 1.24146L15.6264 1.24146ZM4.89126 16.138L1.22278 16.138L1.22293 17.3794L4.89134 17.3794L4.89126 16.138ZM18.3411 16.138L14.6726 16.138L14.6738 17.3794L18.3422 17.3794L18.3411 16.138ZM18.3422 9.93111L1.22293 9.93111L1.22293 14.8966L18.3422 14.8966L18.3422 9.93111ZM3.66854 11.1725C4.34387 11.1725 4.89134 11.7283 4.89134 12.4139C4.89134 13.0995 4.34387 13.6552 3.66854 13.6552C2.9932 13.6552 2.44573 13.0995 2.44573 12.4139C2.44573 11.7283 2.9932 11.1725 3.66854 11.1725ZM15.8966 11.1725C16.5719 11.1725 17.1194 11.7283 17.1194 12.4139C17.1194 13.0995 16.5719 13.6552 15.8966 13.6552C15.2213 13.6552 14.6738 13.0995 14.6738 12.4139C14.6738 11.7283 15.2213 11.1725 15.8966 11.1725ZM15.6264 2.48283L3.93878 2.48283C3.67475 2.48283 3.44161 2.65336 3.35836 2.90753L1.45879 8.68973L18.1051 8.68973L16.2066 2.9071C16.1237 2.65387 15.8897 2.48283 15.6264 2.48283Z"
    },
    history: {
        active: "M20 5.20733C20 4.8095 19.842 4.42797 19.5607 4.14667L15.8533 0.43934C15.572 0.158035 15.1905 0 14.7927 0L5.5 6.62482e-06C4.67157 6.62482e-06 4 0.67158 4 1.50001L4 2.00001L14.586 2.00001L18 5.41401L18 18L6 18L6 8.00001L4 8.00001L4 18.5C4 19.3284 4.67157 20 5.5 20L18.5 20C19.3284 20 20 19.3284 20 18.5L20 5.20733ZM11 7.00001C11 6.44801 10.551 6.00001 10 6.00001L1 6.00001C0.734784 6.00001 0.48043 5.89465 0.292893 5.70711C0.105357 5.51958 0 5.26522 0 5.00001C0 4.73479 0.105357 4.48044 0.292893 4.2929C0.48043 4.10536 0.734784 4.00001 1 4.00001L10 4.00001C11.654 4.00001 13 5.34601 13 7.00001L13 12.586L14.293 11.293C14.4805 11.1055 14.7348 11.0002 15 11.0002C15.2652 11.0002 15.5195 11.1055 15.707 11.293C15.8945 11.4805 15.9998 11.7348 15.9998 12C15.9998 12.2652 15.8945 12.5195 15.707 12.707L12.707 15.707C12.6143 15.8002 12.5042 15.8741 12.3829 15.9246C12.2615 15.9751 12.1314 16.001 12 16.001C11.8686 16.001 11.7385 15.9751 11.6171 15.9246C11.4958 15.8741 11.3857 15.8002 11.293 15.707L8.293 12.707C8.10549 12.5195 8.00015 12.2652 8.00015 12C8.00015 11.7348 8.10549 11.4805 8.293 11.293C8.48051 11.1055 8.73482 11.0002 9 11.0002C9.26518 11.0002 9.51949 11.1055 9.707 11.293L11 12.586L11 7.00001Z",
        inactive: "M20 5.20733C20 4.8095 19.842 4.42797 19.5607 4.14667L15.8533 0.43934C15.572 0.158035 15.1905 0 14.7927 0L5.5 6.62482e-06C4.67157 6.62482e-06 4 0.67158 4 1.50001L4 2.00001L14.586 2.00001L18 5.41401L18 18L6 18L6 8.00001L4 8.00001L4 18.5C4 19.3284 4.67157 20 5.5 20L18.5 20C19.3284 20 20 19.3284 20 18.5L20 5.20733ZM11 7.00001C11 6.44801 10.551 6.00001 10 6.00001L1 6.00001C0.734784 6.00001 0.48043 5.89465 0.292893 5.70711C0.105357 5.51958 0 5.26522 0 5.00001C0 4.73479 0.105357 4.48044 0.292893 4.2929C0.48043 4.10536 0.734784 4.00001 1 4.00001L10 4.00001C11.654 4.00001 13 5.34601 13 7.00001L13 12.586L14.293 11.293C14.4805 11.1055 14.7348 11.0002 15 11.0002C15.2652 11.0002 15.5195 11.1055 15.707 11.293C15.8945 11.4805 15.9998 11.7348 15.9998 12C15.9998 12.2652 15.8945 12.5195 15.707 12.707L12.707 15.707C12.6143 15.8002 12.5042 15.8741 12.3829 15.9246C12.2615 15.9751 12.1314 16.001 12 16.001C11.8686 16.001 11.7385 15.9751 11.6171 15.9246C11.4958 15.8741 11.3857 15.8002 11.293 15.707L8.293 12.707C8.10549 12.5195 8.00015 12.2652 8.00015 12C8.00015 11.7348 8.10549 11.4805 8.293 11.293C8.48051 11.1055 8.73482 11.0002 9 11.0002C9.26518 11.0002 9.51949 11.1055 9.707 11.293L11 12.586L11 7.00001Z"
    },
    settings: {
        active: "M18.2083 9.05028C18.2083 8.66938 17.9637 8.33014 17.6025 8.20898L16.3886 7.80536C16.0024 7.67587 15.6927 7.38433 15.5367 7.00798C15.5352 7.0042 15.5337 7.00041 15.5322 6.99662C15.3747 6.61952 15.3868 6.19319 15.57 5.82744L16.1418 4.68324C16.3121 4.34248 16.2455 3.92978 15.9752 3.6602L15.3391 3.02411C15.0695 2.75453 14.6576 2.68714 14.316 2.85827L13.1726 3.43075C12.8069 3.61325 12.3805 3.62461 12.0034 3.46786C11.9996 3.46558 11.9951 3.46483 11.9921 3.46331C11.6149 3.30732 11.3234 2.99761 11.1947 2.61141L10.7903 1.39755C10.6699 1.03634 10.3314 0.791748 9.94976 0.791748L9.05015 0.791748C8.6685 0.791748 8.33001 1.03634 8.20885 1.39755L7.80448 2.61141C7.67575 2.99761 7.38497 3.30732 7.00786 3.46331C7.00408 3.46483 7.00029 3.46558 6.9965 3.46786C6.61864 3.62461 6.19306 3.61325 5.82731 3.43075L4.68312 2.85827C4.3416 2.68714 3.92965 2.75453 3.66008 3.02411L3.02399 3.6602C2.75441 3.92978 2.68701 4.34248 2.85815 4.68324L3.42987 5.82744C3.61313 6.19319 3.62524 6.61952 3.46773 6.99662C3.46622 7.00041 3.46471 7.0042 3.46319 7.00798C3.3072 7.38433 2.99748 7.67587 2.61053 7.80536L1.39742 8.20898C1.03546 8.33014 0.791626 8.66938 0.791626 9.05028L0.791626 9.94989C0.791626 10.3315 1.03546 10.67 1.39742 10.7904L2.61053 11.1956C2.99748 11.3235 3.3072 11.6151 3.46319 11.9914C3.46471 11.9952 3.46622 11.9998 3.46773 12.0035C3.62524 12.3806 3.61313 12.8062 3.42987 13.1727L2.85815 14.3169C2.68701 14.6577 2.75441 15.0704 3.02399 15.3392L3.66008 15.9753C3.92965 16.2449 4.3416 16.3123 4.68312 16.1419L5.82731 15.5702C6.19306 15.3869 6.61864 15.3748 6.9965 15.5323C7.00029 15.5338 7.00408 15.5353 7.00786 15.5368C7.38497 15.6928 7.67575 16.0026 7.80448 16.3888L8.20885 17.6019C8.33001 17.9638 8.6685 18.2084 9.05015 18.2084L9.94976 18.2084C10.3314 18.2084 10.6699 17.9638 10.7903 17.6019L11.1947 16.3888C11.3234 16.0026 11.6149 15.6928 11.9921 15.5368C11.9951 15.5353 11.9996 15.5338 12.0034 15.5323C12.3805 15.3748 12.8069 15.3869 13.1726 15.5702L14.316 16.1419C14.6576 16.3123 15.0695 16.2449 15.3398 15.9753L15.9759 15.3392C16.2455 15.0704 16.3121 14.6577 16.1418 14.3169L15.57 13.1727C15.3868 12.8062 15.3747 12.3806 15.5322 12.0035C15.5337 11.9998 15.5352 11.9952 15.5367 11.9914C15.6927 11.6151 16.0024 11.3235 16.3886 11.1956L17.6025 10.7904C17.9637 10.67 18.2083 10.3315 18.2083 9.94989L18.2083 9.05028Z",
        inactive: "M18.2083 9.05028C18.2083 8.66938 17.9637 8.33014 17.6025 8.20898L16.3886 7.80536C16.0024 7.67587 15.6927 7.38433 15.5367 7.00798C15.5352 7.0042 15.5337 7.00041 15.5322 6.99662C15.3747 6.61952 15.3868 6.19319 15.57 5.82744L16.1418 4.68324C16.3121 4.34248 16.2455 3.92978 15.9752 3.6602L15.3391 3.02411C15.0695 2.75453 14.6576 2.68714 14.316 2.85827L13.1726 3.43075C12.8069 3.61325 12.3805 3.62461 12.0034 3.46786C11.9996 3.46558 11.9951 3.46483 11.9921 3.46331C11.6149 3.30732 11.3234 2.99761 11.1947 2.61141L10.7903 1.39755C10.6699 1.03634 10.3314 0.791748 9.94976 0.791748L9.05015 0.791748C8.6685 0.791748 8.33001 1.03634 8.20885 1.39755L7.80448 2.61141C7.67575 2.99761 7.38497 3.30732 7.00786 3.46331C7.00408 3.46483 7.00029 3.46558 6.9965 3.46786C6.61864 3.62461 6.19306 3.61325 5.82731 3.43075L4.68312 2.85827C4.3416 2.68714 3.92965 2.75453 3.66008 3.02411L3.02399 3.6602C2.75441 3.92978 2.68701 4.34248 2.85815 4.68324L3.42987 5.82744C3.61313 6.19319 3.62524 6.61952 3.46773 6.99662C3.46622 7.00041 3.46471 7.0042 3.46319 7.00798C3.3072 7.38433 2.99748 7.67587 2.61053 7.80536L1.39742 8.20898C1.03546 8.33014 0.791626 8.66938 0.791626 9.05028L0.791626 9.94989C0.791626 10.3315 1.03546 10.67 1.39742 10.7904L2.61053 11.1956C2.99748 11.3235 3.3072 11.6151 3.46319 11.9914C3.46471 11.9952 3.46622 11.9998 3.46773 12.0035C3.62524 12.3806 3.61313 12.8062 3.42987 13.1727L2.85815 14.3169C2.68701 14.6577 2.75441 15.0704 3.02399 15.3392L3.66008 15.9753C3.92965 16.2449 4.3416 16.3123 4.68312 16.1419L5.82731 15.5702C6.19306 15.3869 6.61864 15.3748 6.9965 15.5323C7.00029 15.5338 7.00408 15.5353 7.00786 15.5368C7.38497 15.6928 7.67575 16.0026 7.80448 16.3888L8.20885 17.6019C8.33001 17.9638 8.6685 18.2084 9.05015 18.2084L9.94976 18.2084C10.3314 18.2084 10.6699 17.9638 10.7903 17.6019L11.1947 16.3888C11.3234 16.0026 11.6149 15.6928 11.9921 15.5368C11.9951 15.5353 11.9996 15.5338 12.0034 15.5323C12.3805 15.3748 12.8069 15.3869 13.1726 15.5702L14.316 16.1419C14.6576 16.3123 15.0695 16.2449 15.3398 15.9753L15.9759 15.3392C16.2455 15.0704 16.3121 14.6577 16.1418 14.3169L15.57 13.1727C15.3868 12.8062 15.3747 12.3806 15.5322 12.0035C15.5337 11.9998 15.5352 11.9952 15.5367 11.9914C15.6927 11.6151 16.0024 11.3235 16.3886 11.1956L17.6025 10.7904C17.9637 10.67 18.2083 10.3315 18.2083 9.94989L18.2083 9.05028Z"
    }
    };

    type CustomTabIconProps = {
    focused: boolean;
    label: string;
    iconType: keyof typeof CustomIcons;
    size?: number;
    };

    export default function CustomTabIcon({ 
    focused, 
    label, 
    iconType, 
    size = 22 
    }: CustomTabIconProps) {
    const scale = React.useRef(new Animated.Value(1)).current;

    React.useEffect(() => {
        if (focused) {
        Animated.spring(scale, {
            toValue: 1.15,
            useNativeDriver: true,
        }).start();
        } else {
        Animated.spring(scale, {
            toValue: 1,
            useNativeDriver: true,
        }).start();
        }
    }, [focused]);

    const iconPath = focused ? CustomIcons[iconType].active : CustomIcons[iconType].inactive;
    const iconColor = focused ? '#007AFF' : '#666';

    return (
        <View style={styles.container}>
        <Animated.View style={{ transform: [{ scale }] }}>
            <Svg width={size} height={size} viewBox="0 0 24 24">
            <Path 
                d={iconPath} 
                fill={iconColor}
                stroke={iconColor}
                strokeWidth={focused ? 1.5 : 1}
            />
            </Svg>
        </Animated.View>
        <Animated.Text 
            style={[
            styles.label,
            focused && styles.labelFocused,
            { transform: [{ scale }] }
            ]}
            numberOfLines={1}
        >
            {label}
        </Animated.Text>
        </View>
    );
    }

    const styles = StyleSheet.create({
    container: {
        alignItems: 'center',
        justifyContent: 'center',
        width: '100%',
        paddingHorizontal: 2,
    },
    label: {
        fontSize: 10,
        color: '#666',
        fontWeight: '500',
        marginTop: 3,
        textAlign: 'center',
        lineHeight: 11,
        includeFontPadding: false,
    },
    labelFocused: {
        color: '#007AFF',
        fontWeight: '600',
    },
    });